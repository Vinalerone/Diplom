{% extends "myproject/pages_ol/reports/index.html" %}

{% block title %}Отчёты | ОЛ{% endblock %}

{% block inner_content %}
<style>

    /* Основные стили для таблицы */
    table {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed; /* Фиксированная ширина колонок */
    }
    
    /* Стили для заголовков и ячеек */
     td {
        padding: 8px 12px;
        text-align: left;
        border: 1px solid #ddd;
        /* overflow: hidden; */
        /* text-overflow: ellipsis;
        white-space: nowrap; */
    }
    
    /* Стиль для прокручиваемой части таблицы */
    .scroll-table-body {
        overflow-y: auto;
        max-height: 500px; /* Или нужная вам высота */
    }
    
    /* Стиль для строк при наведении */
    .clickable-row:hover {
        background-color: #f5f5f5;
        cursor: pointer;
    }
    
</style>
<!-- Для Фильтра -->
<div class="Color-block montserrat-noneSize Тmontserrat-16-italic">
    <div class="d-flex gap-3 align-items-end flex-wrap">
        <div class="bold-text Тmontserrat-30-italic">Фильтр</div>
        <button class="btn btn-outline-secondary Тmontserrat-18-italic">Применить</button>
        <button class="btn btn-success Тmontserrat-18-italic">Создать файл Excel</button>
        <div class="d-flex flex-column">
            <label for="start">Нименование аббревиатуры</label>
            <input id="vvod" type="text" placeholder="Введите текст" class="gg">
        </div>
        <div class="d-flex flex-column">
            <label for="start">Шифр</label>
            <input id="vvod" type="text" placeholder="Введите текст" class="gg">
        </div>
        <!-- Год набора -->
        <!-- Год набора (select) -->
        <div class="d-flex flex-column">
            <label for="year">Год набора</label>
            <select id="year" class="ggr">
                <option value="" disabled selected>Выберите год</option>
                <!-- Генерируем годы от 2025 до 2010 -->
                <option value="2025">2025</option>
                <option value="2024">2024</option>
                <option value="2023">2023</option>
                <option value="2022">2022</option>
                <option value="2021">2021</option>
                <option value="2020">2020</option>
                <option value="2019">2019</option>
                <option value="2018">2018</option>
                <option value="2017">2017</option>
                <option value="2016">2016</option>
                <option value="2015">2015</option>
                <option value="2014">2014</option>
                <option value="2013">2013</option>
                <option value="2012">2012</option>
                <option value="2011">2011</option>
                <option value="2010">2010</option>
            </select>
        </div>
        <!-- Статус для экспертизы     -->
        <!-- Статус экспертизы (select) -->
        <div class="d-flex flex-column">
            <label for="status">Статус ОП</label>
            <select id="status" class="ggr">
                <option value="" disabled selected>Выберите статус</option>
                <option value="passed">Проверен</option>
                <option value="not_passed">Не_проверен</option>
            </select>
        </div>

        <div style="display: flex; flex-direction: column; gap: 8px;">
            <label for="svvod">Наименование ОП</label>
            <div class="input-container">
                <input type="text" id="svvod" placeholder="Введите текст" class="auto-resize-input">
                <span id="smeasurer" class="hidden-measurer"></span>
            </div>
        </div>

    </div>


</div>

<!-- Для таблиц -->
<div class="Color-block Тmontserrat-18-italic">
    <table class="main-table">
        <colgroup>
            <col style="width: 18%;">
            <col style="width: 10%;">
            <col style="width: 30%;">
            <col style="width: 15%;">
            <col style="width: 15%;">
            <col style="width: 10%;">
        </colgroup>
        <thead>
            <tr>
                <th>ФИО Сотрудника ОЛ</th>
                <th>Год набора</th>
                <th>Шифр, наименование, ОП, аббревиатура</th>
                <th>Дата экспертизы</th>
                <th>Дата отправки РОП</th>
                <th>Статус ОП</th>
            </tr>
        </thead>
    </table>
    
    <div class="scroll-table-body">
        <table class="main-table">
            <colgroup>
                <col style="width: 18%;">
                <col style="width: 10%;">
                <col style="width: 30%;">
                <col style="width: 15%;">
                <col style="width: 15%;">
                <col style="width: 10%;">
            </colgroup>
            <tbody>
                <tr class="clickable-row" data-target="block-2">
                    <td> </td>
                    <td>2021</td>
                    <td>09.03.02 Информационные системы и технологии ИС</td>
                    <td>15.07.23</td>
                    <td>14.07.23</td>
                    <td>Не проверен</td>
                </tr>
                <tr class="clickable-row" data-target="block-2">
                    <td>Иванов Иван Сергеевич</td>
                    <td>2020</td>
                    <td>09.03.02 Информационные системы и технологии ИС</td>
                    <td>15.07.23</td>
                    <td>14.07.23</td>
                    <td>Проверен</td>
                </tr>
                <tr class="clickable-row" data-target="block-2">
    <td>Петров Алексей Дмитриевич</td>
    <td>2022</td>
    <td>09.03.04 Программная инженерия ПИ</td>
    <td>20.08.24</td>
    <td>19.08.24</td>
    <td>Проверен</td>
</tr>
<tr class="clickable-row" data-target="block-2">
    <td>Сидорова Мария Ивановна</td>
    <td>2021</td>
    <td>09.03.03 Прикладная информатика ПИНФ</td>
    <td>10.06.23</td>
    <td>09.06.23</td>
    <td>Проверен</td>
</tr>
<tr class="clickable-row" data-target="block-2">
    <td></td>
    <td>2023</td>
    <td>09.03.02 Информационные системы и технологии ИСТ</td>
    <td>15.09.25</td>
    <td>14.09.25</td>
    <td>Не проверен</td>
</tr>
<tr class="clickable-row" data-target="block-2">
    <td></td>
    <td>2020</td>
    <td>09.03.01 Информатика и вычислительная техника ИВТ</td>
    <td>05.07.22</td>
    <td>04.07.22</td>
    <td>Не проверен</td>
</tr>
        {% for matrix in matrix_list %}
        <tr class="clickable-row" data-target="block-{{ forloop.counter }}"> {# Используем forloop.counter для уникального data-target #}
            <td>{{ matrix.empty_column }}</td> {# Выводим содержимое первого столбца #}
            <td>{{ matrix.year }}</td>
            <td>{{ matrix.program_info }}</td>
            <td>{{ matrix.add_date_formatted }}</td>
            <td>{{ matrix.check_date_formatted }}</td>
            <td>{{ matrix.assessment_status }}</td>
        </tr>
        {% endfor %}
              
            </tbody>
        </table>
    </div>

</div>
<!-- Ваш уникальный контент здесь -->
{% endblock %}